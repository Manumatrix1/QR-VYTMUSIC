<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Artistas por Gala | VYTMUSIC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="gala-data-manager.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 50%, #581c87 100%);
            min-height: 100vh;
            color: #f9fafb; 
        }
        .management-card {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .artist-card {
            background: rgba(55, 65, 81, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.3);
            transition: all 0.3s ease;
        }
        .artist-card:hover {
            background: rgba(75, 85, 99, 0.9);
            border-color: rgba(59, 130, 246, 0.5);
        }
        .artist-assigned {
            border-color: rgba(34, 197, 94, 0.6);
            background: rgba(34, 197, 94, 0.1);
        }
        .gala-section {
            background: rgba(17, 24, 39, 0.8);
            border: 2px dashed rgba(148, 163, 184, 0.3);
            min-height: 200px;
        }
        .gala-section.has-artists {
            border-style: solid;
            border-color: rgba(59, 130, 246, 0.5);
            background: rgba(59, 130, 246, 0.1);
        }
        .drag-over {
            border-color: rgba(34, 197, 94, 0.8) !important;
            background: rgba(34, 197, 94, 0.2) !important;
        }
    </style>
</head>
<body class="p-4">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="management-card p-6 mb-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-white mb-2">üé≠ Gesti√≥n de Artistas por Gala</h1>
                    <p class="text-gray-300">Organiza qu√© artistas participan en cada gala del certamen</p>
                </div>
                <div class="flex space-x-4">
                    <button onclick="addNewArtist()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                        ‚ûï Nuevo Artista
                    </button>
                    <button onclick="saveConfiguration()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                        üíæ Guardar Configuraci√≥n
                    </button>
                    <a href="eventos.html" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors">
                        üè† Inicio
                    </a>
                </div>
            </div>
        </header>

        <!-- Lista Global de Artistas -->
        <section class="management-card p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-4">üìù Lista Global de Artistas</h2>
            <p class="text-gray-300 mb-4">Arrastra los artistas desde aqu√≠ hacia las galas espec√≠ficas</p>
            
            <div id="global-artists" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Se llena din√°micamente -->
            </div>
        </section>

        <!-- Gesti√≥n por Galas -->
        <section class="management-card p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6">üé™ Asignaci√≥n por Galas</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
                <!-- Se crean din√°micamente las galas -->
                <div class="gala-container" data-gala="1">
                    <h3 class="text-lg font-bold text-blue-300 mb-4 text-center">üé≠ Gala 1</h3>
                    <div class="gala-section rounded-lg p-4" data-gala="1" ondrop="dropArtist(event)" ondragover="allowDrop(event)">
                        <div id="gala-1-artists" class="space-y-2">
                            <!-- Artistas asignados a Gala 1 -->
                        </div>
                        <div class="text-center text-gray-400 text-sm mt-4 empty-message">
                            Arrastra artistas aqu√≠ para Gala 1
                        </div>
                    </div>
                </div>

                <div class="gala-container" data-gala="2">
                    <h3 class="text-lg font-bold text-blue-300 mb-4 text-center">üé≠ Gala 2</h3>
                    <div class="gala-section rounded-lg p-4" data-gala="2" ondrop="dropArtist(event)" ondragover="allowDrop(event)">
                        <div id="gala-2-artists" class="space-y-2">
                            <!-- Artistas asignados a Gala 2 -->
                        </div>
                        <div class="text-center text-gray-400 text-sm mt-4 empty-message">
                            Arrastra artistas aqu√≠ para Gala 2
                        </div>
                    </div>
                </div>

                <div class="gala-container" data-gala="3">
                    <h3 class="text-lg font-bold text-blue-300 mb-4 text-center">üé≠ Gala 3</h3>
                    <div class="gala-section rounded-lg p-4" data-gala="3" ondrop="dropArtist(event)" ondragover="allowDrop(event)">
                        <div id="gala-3-artists" class="space-y-2">
                            <!-- Artistas asignados a Gala 3 -->
                        </div>
                        <div class="text-center text-gray-400 text-sm mt-4 empty-message">
                            Arrastra artistas aqu√≠ para Gala 3
                        </div>
                    </div>
                </div>
            </div>

            <!-- Botones para m√°s galas -->
            <div class="flex justify-center mt-6 space-x-4">
                <button onclick="addMoreGalas()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                    ‚ûï M√°s Galas
                </button>
                <button onclick="clearAllAssignments()" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors">
                    üóëÔ∏è Limpiar Asignaciones
                </button>
                <button onclick="copyGalaConfiguration()" class="bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg transition-colors">
                    üìã Copiar Configuraci√≥n de Gala
                </button>
                <button onclick="showMoveArtistModal()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors">
                    üîÑ Mover Artista Entre Galas
                </button>
            </div>
        </section>

        <!-- Estad√≠sticas -->
        <section class="management-card p-6">
            <h2 class="text-2xl font-bold text-white mb-4">üìä Estad√≠sticas</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-blue-600 bg-opacity-20 p-4 rounded-lg">
                    <h3 class="text-blue-300 font-bold">Total Artistas</h3>
                    <p id="total-artists" class="text-2xl font-bold text-white">0</p>
                </div>
                <div class="bg-green-600 bg-opacity-20 p-4 rounded-lg">
                    <h3 class="text-green-300 font-bold">Artistas Asignados</h3>
                    <p id="assigned-artists" class="text-2xl font-bold text-white">0</p>
                </div>
                <div class="bg-purple-600 bg-opacity-20 p-4 rounded-lg">
                    <h3 class="text-purple-300 font-bold">Galas Activas</h3>
                    <p id="active-galas" class="text-2xl font-bold text-white">0</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal para agregar nuevo artista -->
    <div id="new-artist-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden flex items-center justify-center z-50">
        <div class="management-card p-6 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold text-white mb-4">‚ûï Agregar Nuevo Artista</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-300 mb-2">Nombre del Artista</label>
                    <input type="text" id="new-artist-name" class="w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500">
                </div>
                
                <div>
                    <label class="block text-gray-300 mb-2">G√©nero Musical</label>
                    <select id="new-artist-genre" class="w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500">
                        <option value="Pop">Pop</option>
                        <option value="Rock">Rock</option>
                        <option value="Balada">Balada</option>
                        <option value="Jazz">Jazz</option>
                        <option value="Folk">Folk</option>
                        <option value="Blues">Blues</option>
                        <option value="R&B">R&B</option>
                        <option value="Country">Country</option>
                        <option value="Reggaeton">Reggaeton</option>
                        <option value="Cumbia">Cumbia</option>
                        <option value="Otro">Otro</option>
                    </select>
                </div>
                
                <div class="flex space-x-4">
                    <button onclick="confirmAddArtist()" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg transition-colors">
                        ‚úÖ Agregar
                    </button>
                    <button onclick="closeNewArtistModal()" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded-lg transition-colors">
                        ‚ùå Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para mover artista entre galas -->
    <div id="move-artist-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden flex items-center justify-center z-50">
        <div class="management-card p-6 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold text-white mb-4">üîÑ Mover Artista Entre Galas</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-300 mb-2">Seleccionar Artista</label>
                    <select id="move-artist-select" class="w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500">
                        <option value="">Seleccionar artista...</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-gray-300 mb-2">Gala de Origen</label>
                    <select id="move-from-gala" class="w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500">
                        <option value="">Seleccionar gala origen...</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-gray-300 mb-2">Gala de Destino</label>
                    <select id="move-to-gala" class="w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500">
                        <option value="">Seleccionar gala destino...</option>
                    </select>
                </div>
                
                <div class="flex space-x-4">
                    <button onclick="confirmMoveArtist()" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg transition-colors">
                        üîÑ Mover
                    </button>
                    <button onclick="closeMoveArtistModal()" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded-lg transition-colors">
                        ‚ùå Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para copiar configuraci√≥n de gala -->
    <div id="copy-gala-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden flex items-center justify-center z-50">
        <div class="management-card p-6 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold text-white mb-4">üìã Copiar Configuraci√≥n de Gala</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-300 mb-2">Copiar desde Gala</label>
                    <select id="copy-from-gala" class="w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500">
                        <option value="">Seleccionar gala origen...</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-gray-300 mb-2">Pegar en Gala</label>
                    <select id="copy-to-gala" class="w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500">
                        <option value="">Seleccionar gala destino...</option>
                    </select>
                </div>
                
                <div class="bg-yellow-600 bg-opacity-20 p-3 rounded-lg border border-yellow-500">
                    <p class="text-yellow-300 text-sm">‚ö†Ô∏è Esta acci√≥n reemplazar√° todos los artistas en la gala destino</p>
                </div>
                
                <div class="flex space-x-4">
                    <button onclick="confirmCopyGala()" class="flex-1 bg-yellow-600 hover:bg-yellow-700 text-white py-2 rounded-lg transition-colors">
                        üìã Copiar
                    </button>
                    <button onclick="closeCopyGalaModal()" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded-lg transition-colors">
                        ‚ùå Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let galaManager;
        let currentGalas = 3; // Comenzar con 3 galas

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            // Obtener ID del evento desde localStorage o usar default
            const eventId = localStorage.getItem('currentEventId') || 'default_event';
            galaManager = new GalaDataManager(eventId);
            
            loadGlobalArtists();
            loadGalaAssignments();
            updateStatistics();
        });

        // Cargar artistas globales
        function loadGlobalArtists() {
            const allArtists = galaManager.getAllArtists();
            const container = document.getElementById('global-artists');
            
            if (allArtists.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-8">
                        <p class="text-gray-400 mb-4">No hay artistas registrados</p>
                        <button onclick="createSampleArtists()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">
                            üé≠ Crear Artistas de Ejemplo
                        </button>
                    </div>
                `;
                return;
            }

            container.innerHTML = allArtists.map(artist => `
                <div class="artist-card p-4 rounded-lg cursor-move" 
                     draggable="true" 
                     data-artist-id="${artist.id}"
                     ondragstart="dragStart(event)">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                            <span class="text-white font-bold text-lg">üé§</span>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-white">${artist.name}</h4>
                            <p class="text-gray-400 text-sm">${artist.genre}</p>
                        </div>
                    </div>
                    <div class="mt-3 flex justify-between items-center">
                        <span class="text-xs text-gray-500">ID: ${artist.id}</span>
                        <button onclick="editArtist('${artist.id}')" class="text-blue-400 hover:text-blue-300 text-sm">
                            ‚úèÔ∏è Editar
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Cargar asignaciones de galas
        function loadGalaAssignments() {
            for (let gala = 1; gala <= currentGalas; gala++) {
                const artists = galaManager.getArtistsForGala(gala);
                const container = document.getElementById(`gala-${gala}-artists`);
                const section = document.querySelector(`.gala-section[data-gala="${gala}"]`);
                const emptyMessage = section.querySelector('.empty-message');
                
                if (artists.length === 0) {
                    container.innerHTML = '';
                    emptyMessage.style.display = 'block';
                    section.classList.remove('has-artists');
                } else {
                    emptyMessage.style.display = 'none';
                    section.classList.add('has-artists');
                    
                    container.innerHTML = artists.map(artist => `
                        <div class="artist-card artist-assigned p-3 rounded-lg flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-green-400">üé§</span>
                                <div>
                                    <h5 class="font-bold text-white text-sm">${artist.name}</h5>
                                    <p class="text-gray-400 text-xs">${artist.genre}</p>
                                </div>
                            </div>
                            <button onclick="removeFromGala(${gala}, '${artist.id}')" 
                                    class="text-red-400 hover:text-red-300 text-sm">
                                ‚ùå
                            </button>
                        </div>
                    `).join('');
                }
            }
        }

        // Funciones de drag and drop
        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.artistId);
        }

        function allowDrop(e) {
            e.preventDefault();
            e.target.closest('.gala-section').classList.add('drag-over');
        }

        function dropArtist(e) {
            e.preventDefault();
            const section = e.target.closest('.gala-section');
            section.classList.remove('drag-over');
            
            const artistId = e.dataTransfer.getData('text/plain');
            const galaNumber = parseInt(section.dataset.gala);
            
            // Agregar artista a la gala
            const success = galaManager.addArtistToGala(galaNumber, artistId);
            
            if (success) {
                loadGalaAssignments();
                updateStatistics();
                showNotification(`Artista agregado a Gala ${galaNumber}`, 'success');
            } else {
                showNotification(`El artista ya est√° en Gala ${galaNumber}`, 'warning');
            }
        }

        // Remover artista de gala
        function removeFromGala(galaNumber, artistId) {
            galaManager.removeArtistFromGala(galaNumber, artistId);
            loadGalaAssignments();
            updateStatistics();
            showNotification(`Artista removido de Gala ${galaNumber}`, 'info');
        }

        // Agregar nuevo artista
        function addNewArtist() {
            document.getElementById('new-artist-modal').classList.remove('hidden');
        }

        function closeNewArtistModal() {
            document.getElementById('new-artist-modal').classList.add('hidden');
            document.getElementById('new-artist-name').value = '';
        }

        function confirmAddArtist() {
            const name = document.getElementById('new-artist-name').value.trim();
            const genre = document.getElementById('new-artist-genre').value;
            
            if (!name) {
                showNotification('Por favor ingresa el nombre del artista', 'error');
                return;
            }

            const newArtist = {
                id: 'artist_' + Date.now(),
                name: name,
                genre: genre,
                createdAt: new Date().toISOString()
            };

            galaManager.addArtistToGlobal(newArtist);
            loadGlobalArtists();
            updateStatistics();
            closeNewArtistModal();
            showNotification(`Artista "${name}" agregado exitosamente`, 'success');
        }

        // Crear artistas de ejemplo
        function createSampleArtists() {
            const sampleArtists = [
                { id: 'global_artist_1', name: 'Ana Mar√≠a Vocal', genre: 'Pop', createdAt: new Date().toISOString() },
                { id: 'global_artist_2', name: 'Carlos Rock', genre: 'Rock', createdAt: new Date().toISOString() },
                { id: 'global_artist_3', name: 'Elena Balada', genre: 'Balada', createdAt: new Date().toISOString() },
                { id: 'global_artist_4', name: 'Miguel Jazz', genre: 'Jazz', createdAt: new Date().toISOString() },
                { id: 'global_artist_5', name: 'Sofia Folk', genre: 'Folk', createdAt: new Date().toISOString() },
                { id: 'global_artist_6', name: 'Roberto Blues', genre: 'Blues', createdAt: new Date().toISOString() },
                { id: 'global_artist_7', name: 'Lucia R&B', genre: 'R&B', createdAt: new Date().toISOString() },
                { id: 'global_artist_8', name: 'Fernando Country', genre: 'Country', createdAt: new Date().toISOString() }
            ];

            galaManager.saveAllArtists(sampleArtists);
            loadGlobalArtists();
            updateStatistics();
            showNotification('Artistas de ejemplo creados', 'success');
        }

        // Actualizar estad√≠sticas
        function updateStatistics() {
            const allArtists = galaManager.getAllArtists();
            const totalAssigned = galaManager.getGalasWithData().reduce((count, gala) => {
                return count + galaManager.getArtistsForGala(gala).length;
            }, 0);
            
            document.getElementById('total-artists').textContent = allArtists.length;
            document.getElementById('assigned-artists').textContent = totalAssigned;
            document.getElementById('active-galas').textContent = galaManager.getGalasWithData().length;
        }

        // Agregar m√°s galas
        function addMoreGalas() {
            if (currentGalas >= 10) {
                showNotification('M√°ximo 10 galas permitidas', 'warning');
                return;
            }
            
            currentGalas++;
            // Aqu√≠ podr√≠as implementar la l√≥gica para agregar din√°micamente m√°s galas
            showNotification(`Gala ${currentGalas} agregada`, 'success');
        }

        // Limpiar todas las asignaciones
        function clearAllAssignments() {
            if (confirm('¬øEst√°s seguro de que quieres limpiar todas las asignaciones?')) {
                for (let gala = 1; gala <= 10; gala++) {
                    galaManager.assignArtistsToGala(gala, []);
                }
                loadGalaAssignments();
                updateStatistics();
                showNotification('Todas las asignaciones limpiadas', 'info');
            }
        }

        // Guardar configuraci√≥n
        function saveConfiguration() {
            showNotification('Configuraci√≥n guardada autom√°ticamente', 'success');
        }

        // Mostrar modal para mover artista
        function showMoveArtistModal() {
            populateMoveArtistModal();
            document.getElementById('move-artist-modal').classList.remove('hidden');
        }

        function closeMoveArtistModal() {
            document.getElementById('move-artist-modal').classList.add('hidden');
        }

        function populateMoveArtistModal() {
            const allArtists = galaManager.getAllArtists();
            const artistSelect = document.getElementById('move-artist-select');
            const fromGalaSelect = document.getElementById('move-from-gala');
            const toGalaSelect = document.getElementById('move-to-gala');

            // Llenar artistas
            artistSelect.innerHTML = '<option value="">Seleccionar artista...</option>';
            allArtists.forEach(artist => {
                artistSelect.innerHTML += `<option value="${artist.id}">${artist.name} (${artist.genre})</option>`;
            });

            // Llenar galas
            const galaOptions = Array.from({length: currentGalas}, (_, i) => 
                `<option value="${i + 1}">Gala ${i + 1}</option>`
            ).join('');
            
            fromGalaSelect.innerHTML = '<option value="">Seleccionar gala origen...</option>' + galaOptions;
            toGalaSelect.innerHTML = '<option value="">Seleccionar gala destino...</option>' + galaOptions;
        }

        function confirmMoveArtist() {
            const artistId = document.getElementById('move-artist-select').value;
            const fromGala = parseInt(document.getElementById('move-from-gala').value);
            const toGala = parseInt(document.getElementById('move-to-gala').value);

            if (!artistId || !fromGala || !toGala) {
                showNotification('Por favor completa todos los campos', 'error');
                return;
            }

            if (fromGala === toGala) {
                showNotification('La gala origen y destino no pueden ser iguales', 'error');
                return;
            }

            galaManager.moveArtistBetweenGalas(artistId, fromGala, toGala);
            loadGalaAssignments();
            updateStatistics();
            closeMoveArtistModal();
            showNotification(`Artista movido de Gala ${fromGala} a Gala ${toGala}`, 'success');
        }

        // Copiar configuraci√≥n de gala
        function copyGalaConfiguration() {
            populateCopyGalaModal();
            document.getElementById('copy-gala-modal').classList.remove('hidden');
        }

        function closeCopyGalaModal() {
            document.getElementById('copy-gala-modal').classList.add('hidden');
        }

        function populateCopyGalaModal() {
            const fromSelect = document.getElementById('copy-from-gala');
            const toSelect = document.getElementById('copy-to-gala');

            const galaOptions = Array.from({length: currentGalas}, (_, i) => {
                const galaNumber = i + 1;
                const artistCount = galaManager.getArtistsForGala(galaNumber).length;
                return `<option value="${galaNumber}">Gala ${galaNumber} (${artistCount} artistas)</option>`;
            }).join('');
            
            fromSelect.innerHTML = '<option value="">Seleccionar gala origen...</option>' + galaOptions;
            toSelect.innerHTML = '<option value="">Seleccionar gala destino...</option>' + galaOptions;
        }

        function confirmCopyGala() {
            const fromGala = parseInt(document.getElementById('copy-from-gala').value);
            const toGala = parseInt(document.getElementById('copy-to-gala').value);

            if (!fromGala || !toGala) {
                showNotification('Por favor selecciona ambas galas', 'error');
                return;
            }

            if (fromGala === toGala) {
                showNotification('La gala origen y destino no pueden ser iguales', 'error');
                return;
            }

            const sourceArtists = galaManager.getAssignedArtistIds(fromGala);
            galaManager.assignArtistsToGala(toGala, [...sourceArtists]);
            
            loadGalaAssignments();
            updateStatistics();
            closeCopyGalaModal();
            showNotification(`Configuraci√≥n copiada de Gala ${fromGala} a Gala ${toGala}`, 'success');
        }

        // Sistema de notificaciones
        function showNotification(message, type = 'info') {
            // Crear elemento de notificaci√≥n
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg text-white z-50 transition-all duration-300 ${getNotificationColor(type)}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remover despu√©s de 3 segundos
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function getNotificationColor(type) {
            switch(type) {
                case 'success': return 'bg-green-600';
                case 'error': return 'bg-red-600';
                case 'warning': return 'bg-yellow-600';
                default: return 'bg-blue-600';
            }
        }

        // Prevenir drag sobre elementos no v√°lidos
        document.addEventListener('dragover', function(e) {
            if (!e.target.closest('.gala-section')) {
                e.preventDefault();
            }
        });

        document.addEventListener('dragleave', function(e) {
            if (e.target.classList.contains('gala-section')) {
                e.target.classList.remove('drag-over');
            }
        });
    </script>
</body>
</html>