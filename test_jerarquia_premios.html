<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Jerarquía de Premios</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8 text-purple-600">
            <i class="fas fa-trophy mr-3"></i>
            Prueba de Jerarquía de Premios
        </h1>
        
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-semibold mb-4 text-purple-600">
                <span class="bg-purple-100 text-purple-800 rounded-full px-3 py-1 text-sm mr-2">PRUEBA</span>
                Reordenar Premios
            </h2>
            
            <div class="bg-purple-50 p-4 rounded-lg mb-4">
                <p class="text-purple-700 mb-3">
                    <i class="fas fa-sort mr-2"></i>
                    Usa las flechas para cambiar el orden de los premios. Prueba con 3 premios de ejemplo.
                </p>
            </div>
            
            <div id="jerarquiaPremios" class="space-y-2 mb-6"></div>
            
            <div class="flex gap-3 mb-4">
                <input type="text" id="nuevoPremio" placeholder="Agregar nuevo premio..." 
                       class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                <button onclick="agregarPremio()" class="px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                    <i class="fas fa-plus mr-2"></i>Agregar
                </button>
            </div>
            
            <div class="flex gap-3">
                <button onclick="reiniciarPremios()" class="px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">
                    <i class="fas fa-refresh mr-2"></i>Reiniciar
                </button>
                <button onclick="mostrarEstado()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                    <i class="fas fa-info mr-2"></i>Mostrar Estado
                </button>
            </div>
            
            <div id="estadoActual" class="mt-6 p-4 bg-gray-50 rounded-lg hidden">
                <h3 class="font-semibold mb-2">Estado Actual:</h3>
                <pre id="estadoTexto" class="text-sm text-gray-700"></pre>
            </div>
        </div>
    </div>

    <script>
        // Array global para almacenar los premios
        let jerarquiaFinal = ["Premio Principal", "Premio Secundario", "Premio Terciario"];

        // Función para actualizar la visualización de la jerarquía
        function actualizarJerarquia() {
            console.log('Actualizando jerarquía:', jerarquiaFinal);
            const container = document.getElementById('jerarquiaPremios');
            container.innerHTML = '';
            
            jerarquiaFinal.forEach((premio, index) => {
                const div = document.createElement('div');
                div.className = 'flex items-center justify-between p-4 bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow';
                div.innerHTML = `
                    <div class="flex items-center">
                        <span class="bg-gradient-to-r ${
                            index === 0 ? 'from-yellow-400 to-yellow-600' :
                            index === 1 ? 'from-gray-300 to-gray-500' :
                            index === 2 ? 'from-orange-400 to-orange-600' :
                            'from-blue-400 to-blue-600'
                        } text-white px-3 py-1 rounded-full font-bold mr-3">
                            ${index + 1}°
                        </span>
                        <span class="font-medium text-gray-800">
                            <i class="fas fa-trophy mr-2 text-yellow-500"></i>${premio}
                        </span>
                    </div>
                    <div class="flex gap-2">
                        ${index > 0 ? `<button onclick="moverArriba(${index})" class="px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" title="Mover hacia arriba">
                            <i class="fas fa-arrow-up"></i>
                        </button>` : ''}
                        ${index < jerarquiaFinal.length - 1 ? `<button onclick="moverAbajo(${index})" class="px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors" title="Mover hacia abajo">
                            <i class="fas fa-arrow-down"></i>
                        </button>` : ''}
                        <button onclick="eliminarPremio(${index})" class="px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors" title="Eliminar premio">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Función para mover un premio hacia arriba
        function moverArriba(index) {
            console.log('Moviendo hacia arriba desde índice:', index);
            if (index > 0) {
                [jerarquiaFinal[index], jerarquiaFinal[index - 1]] = [jerarquiaFinal[index - 1], jerarquiaFinal[index]];
                actualizarJerarquia();
            }
        }

        // Función para mover un premio hacia abajo
        function moverAbajo(index) {
            console.log('Moviendo hacia abajo desde índice:', index);
            if (index < jerarquiaFinal.length - 1) {
                [jerarquiaFinal[index], jerarquiaFinal[index + 1]] = [jerarquiaFinal[index + 1], jerarquiaFinal[index]];
                actualizarJerarquia();
            }
        }

        // Función para agregar un nuevo premio
        function agregarPremio() {
            const input = document.getElementById('nuevoPremio');
            const valor = input.value.trim();
            if (valor) {
                jerarquiaFinal.push(valor);
                input.value = '';
                actualizarJerarquia();
                console.log('Premio agregado:', valor);
            }
        }

        // Función para eliminar un premio
        function eliminarPremio(index) {
            console.log('Eliminando premio en índice:', index);
            jerarquiaFinal.splice(index, 1);
            actualizarJerarquia();
        }

        // Función para reiniciar los premios
        function reiniciarPremios() {
            jerarquiaFinal = ["Premio Principal", "Premio Secundario", "Premio Terciario"];
            actualizarJerarquia();
            console.log('Premios reiniciados');
        }

        // Función para mostrar el estado actual
        function mostrarEstado() {
            const estadoDiv = document.getElementById('estadoActual');
            const estadoTexto = document.getElementById('estadoTexto');
            estadoTexto.textContent = JSON.stringify(jerarquiaFinal, null, 2);
            estadoDiv.classList.remove('hidden');
            console.log('Estado actual:', jerarquiaFinal);
        }

        // Event listener para Enter en el input
        document.getElementById('nuevoPremio').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                agregarPremio();
            }
        });

        // Inicializar la vista al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Página cargada, inicializando jerarquía');
            actualizarJerarquia();
        });
    </script>
</body>
</html>