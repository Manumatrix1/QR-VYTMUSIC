<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Test Usuarios Simple</title>
</head>
<body>
    <h1>Test Carga Usuarios</h1>
    <select id="users-select">
        <option>Cargando...</option>
    </select>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, getDocs, query } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC_2Ukoxf_ry7QfKtou1Cz6nY-qTVw4qTU",
            authDomain: "vyt-music.firebaseapp.com",
            projectId: "vyt-music",
            storageBucket: "vyt-music.firebasestorage.app",
            messagingSenderId: "574981837817",
            appId: "1:574981837817:web:a29933a22bbfd51a086328"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function testUsers() {
            console.log("üîç Test: Cargando usuarios de colecci√≥n 'users'");
            try {
                const snapshot = await getDocs(collection(db, 'users'));
                console.log(`üìä Usuarios encontrados: ${snapshot.size}`);
                
                const select = document.getElementById('users-select');
                let html = '<option value="">Selecciona usuario</option>';
                
                snapshot.forEach(doc => {
                    const user = doc.data();
                    console.log(`üë§ ${user.name} (${user.typeLabel})`);
                    html += `<option value="${doc.id}">${user.name} (${user.typeLabel})</option>`;
                });
                
                select.innerHTML = html;
                console.log("‚úÖ Test completado");
            } catch (error) {
                console.error("‚ùå Error:", error);
            }
        }

        testUsers();
    </script>
</body>
</html>