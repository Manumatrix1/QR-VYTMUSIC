<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte por Gala - Jurados vs Público | VYTMUSIC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 50%, #581c87 100%);
            min-height: 100vh;
            color: #f9fafb; 
        }
        .report-card {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .artist-comparison {
            background: rgba(55, 65, 81, 0.8);
            border-left: 4px solid #3b82f6;
            margin-bottom: 1.5rem;
        }
        .feedback-positive { border-left-color: #10b981; }
        .feedback-negative { border-left-color: #ef4444; }
        .feedback-neutral { border-left-color: #f59e0b; }
        
        .score-bar {
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            background-color: rgba(55, 65, 81, 0.8);
        }
        .score-fill-jury { background: linear-gradient(90deg, #3b82f6, #1d4ed8); }
        .score-fill-public { background: linear-gradient(90deg, #10b981, #059669); }
        
        @media print {
            body { background: white !important; color: black !important; }
            .report-card { background: white !important; border: 1px solid #ccc !important; }
            .no-print { display: none !important; }
        }
    </style>
</head>
<body class="p-4">
    <div class="max-w-7xl mx-auto">
        <!-- Header del Reporte -->
        <header class="text-center mb-8">
            <div class="report-card p-8 mb-6">
                <img src="https://i.imgur.com/rqkZi9P.png" alt="VYTMUSIC Logo" class="mx-auto mb-4 bg-white rounded-full w-20 h-20">
                <h1 class="text-4xl font-bold text-white mb-2">📊 Reporte Comparativo por Gala</h1>
                <p id="event-title" class="text-2xl text-blue-300 font-semibold"></p>
                <p id="gala-title" class="text-xl text-purple-300 mt-2"></p>
                <p class="text-gray-300 mt-4">Análisis comparativo: Evaluación de Jurados vs Votación del Público</p>
                
                <!-- Controles de Gala -->
                <div class="flex justify-center gap-4 mt-6">
                    <select id="gala-selector" class="bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 text-white">
                        <!-- Se llena dinámicamente con las galas que tienen datos -->
                    </select>
                    <button id="load-gala" class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold transition">
                        📈 Cargar Gala
                    </button>
                    <button id="create-sample-data" class="bg-green-600 hover:bg-green-700 px-6 py-2 rounded-lg font-semibold transition">
                        ➕ Crear Datos de Ejemplo
                    </button>
                    <button id="print-report" class="no-print bg-green-600 hover:bg-green-700 px-6 py-2 rounded-lg font-semibold transition">
                        🖨️ Imprimir
                    </button>
                </div>
            </div>
        </header>

        <!-- Resumen Ejecutivo -->
        <section class="report-card p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">📋 Resumen Ejecutivo</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
                <div class="text-center p-4 bg-blue-600 bg-opacity-20 rounded-lg border border-blue-500">
                    <div class="text-3xl font-bold text-blue-400" id="total-artists">0</div>
                    <div class="text-blue-300">Artistas Participantes</div>
                </div>
                <div class="text-center p-4 bg-green-600 bg-opacity-20 rounded-lg border border-green-500">
                    <div class="text-3xl font-bold text-green-400" id="jury-votes">0</div>
                    <div class="text-green-300">Votos de Jurados</div>
                </div>
                <div class="text-center p-4 bg-purple-600 bg-opacity-20 rounded-lg border border-purple-500">
                    <div class="text-3xl font-bold text-purple-400" id="public-votes">0</div>
                    <div class="text-purple-300">Votos del Público</div>
                </div>
                <div class="text-center p-4 bg-yellow-600 bg-opacity-20 rounded-lg border border-yellow-500">
                    <div class="text-3xl font-bold text-yellow-400" id="correlation">0%</div>
                    <div class="text-yellow-300">Correlación J vs P</div>
                </div>
            </div>

            <!-- Gráfico Comparativo General -->
            <div class="bg-gray-800 p-4 rounded-lg">
                <h3 class="text-lg font-bold text-white mb-4 text-center">📊 Comparativa General: Jurados vs Público</h3>
                <canvas id="general-comparison-chart" width="400" height="200"></canvas>
            </div>
        </section>

        <!-- Análisis Individual por Artista -->
        <section class="report-card p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">🎭 Análisis Individual por Artista</h2>
            <div id="artists-analysis" class="space-y-6">
                <!-- Se llena dinámicamente -->
            </div>
        </section>

        <!-- Insights y Recomendaciones -->
        <section class="report-card p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">💡 Insights y Feedback para Artistas</h2>
            <div id="insights-container" class="space-y-4">
                <!-- Se llena dinámicamente -->
            </div>
        </section>

        <!-- Ranking Comparativo -->
        <section class="report-card p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">🏆 Ranking Comparativo</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Ranking Jurados -->
                <div class="bg-blue-600 bg-opacity-20 p-4 rounded-lg border border-blue-500">
                    <h3 class="text-lg font-bold text-blue-300 mb-4 text-center">👨‍💼 Ranking de Jurados</h3>
                    <div id="jury-ranking" class="space-y-2">
                        <!-- Se llena dinámicamente -->
                    </div>
                </div>
                
                <!-- Ranking Público -->
                <div class="bg-green-600 bg-opacity-20 p-4 rounded-lg border border-green-500">
                    <h3 class="text-lg font-bold text-green-300 mb-4 text-center">👥 Ranking del Público</h3>
                    <div id="public-ranking" class="space-y-2">
                        <!-- Se llena dinámicamente -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer del Reporte -->
        <footer class="report-card p-4 text-center text-gray-400">
            <p>📅 Generado el: <span id="report-date"></span></p>
            <p class="text-sm mt-2">VYTMUSIC - Sistema de Gestión de Certámenes Musicales</p>
        </footer>
    </div>

    <script src="gala-data-manager.js"></script>
    <script>
        // Variables globales
        let currentGala = parseInt(new URLSearchParams(window.location.search).get('gala')) || 1;
        let eventId = new URLSearchParams(window.location.search).get('eventId') || 'demo';
        let eventName = new URLSearchParams(window.location.search).get('eventName') || 'Certamen Demo';
        let galaManager = new GalaDataManager(eventId);
        
        // Cargar datos reales de la gala específica
        async function loadRealGalaData(galaNumber) {
            console.log(`📊 Cargando datos REALES de Gala ${galaNumber} para evento ${eventId}`);
            
            try {
                // Verificar si hay datos para esta gala
                if (!galaManager.hasDataForGala(galaNumber)) {
                    console.log(`⚠️ No hay datos para Gala ${galaNumber}, creando datos de ejemplo...`);
                    galaManager.createSampleDataForGala(galaNumber);
                }
                
                // Cargar artistas reales
                const galaArtists = galaManager.getArtistsForGala(galaNumber);
                console.log(`✅ Encontrados ${galaArtists.length} artistas para Gala ${galaNumber}`);
                
                // Cargar votos de jurados
                const juryVotes = galaManager.getJuryVotesForGala(galaNumber);
                console.log(`📋 Votos de jurados:`, Object.keys(juryVotes).length, 'jurados');
                
                // Cargar votos del público
                const publicVotes = galaManager.getPublicVotesForGala(galaNumber);
                console.log(`👥 Votos del público:`, Object.keys(publicVotes).length, 'artistas');
                
                // Crear estructura de datos para el reporte
                const galaData = {
                    galaNumber: galaNumber,
                    artists: galaArtists.map(artist => {
                        // Calcular puntuación promedio de jurados
                        const artistJuryVotes = {};
                        Object.keys(juryVotes).forEach(jurorName => {
                            if (juryVotes[jurorName][artist.id]) {
                                artistJuryVotes[jurorName] = juryVotes[jurorName][artist.id];
                            }
                        });
                        
                        // Promedio de todos los criterios de todos los jurados
                        let totalJuryScore = 0;
                        let criteriaCount = 0;
                        Object.values(artistJuryVotes).forEach(jurorVotes => {
                            Object.values(jurorVotes).forEach(score => {
                                totalJuryScore += score;
                                criteriaCount++;
                            });
                        });
                        const avgJuryScore = criteriaCount > 0 ? (totalJuryScore / criteriaCount) * 10 : 0; // Escala a 100
                        
                        // Calcular puntuación del público
                        const artistPublicVotes = publicVotes[artist.id] || { votes: 0, total: 0 };
                        const publicScore = artistPublicVotes.votes > 0 ? 
                            (artistPublicVotes.total / artistPublicVotes.votes) * 20 : 0; // Convertir a escala 100
                        
                        return {
                            id: artist.id,
                            name: artist.name,
                            genre: artist.genre || 'No especificado',
                            song: artist.currentSong || 'Sin canción',
                            juryScore: avgJuryScore,
                            publicScore: publicScore,
                            juryVotes: Object.keys(artistJuryVotes).length,
                            publicVotes: artistPublicVotes.votes || 0
                        };
                    })
                };
                
                return galaData;
                
            } catch (error) {
                console.error('❌ Error cargando datos de la gala:', error);
                return { galaNumber: galaNumber, artists: [] };
            }
        }

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            initializeReport();
            
            // Cargar la gala especificada en la URL o Gala 1 por defecto
            loadGalaData(currentGala);
        });

        function initializeReport() {
            document.getElementById('event-title').textContent = eventName;
            document.getElementById('gala-title').textContent = `Gala ${currentGala}`;
            document.getElementById('report-date').textContent = new Date().toLocaleDateString('es-ES', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Llenar selector con galas que tienen datos
            populateGalaSelector();
            
            // Event listeners
            document.getElementById('load-gala').addEventListener('click', function() {
                const selectedGala = parseInt(document.getElementById('gala-selector').value);
                console.log(`🎯 Usuario seleccionó Gala ${selectedGala}`);
                
                // Actualizar URL con la nueva gala
                const url = new URL(window.location);
                url.searchParams.set('gala', selectedGala);
                window.history.pushState({}, '', url);
                
                loadGalaData(selectedGala);
            });
            
            document.getElementById('create-sample-data').addEventListener('click', function() {
                const galaNumber = parseInt(prompt('¿Para qué gala quieres crear datos de ejemplo? (1-10)', currentGala));
                if (galaNumber && galaNumber >= 1 && galaNumber <= 10) {
                    galaManager.createSampleDataForGala(galaNumber);
                    populateGalaSelector();
                    loadGalaData(galaNumber);
                    alert(`✅ Datos de ejemplo creados para Gala ${galaNumber}`);
                }
            });
            
            document.getElementById('print-report').addEventListener('click', function() {
                window.print();
            });
        }

        function populateGalaSelector() {
            const selector = document.getElementById('gala-selector');
            const galasWithData = galaManager.getGalasWithData();
            
            selector.innerHTML = '';
            
            if (galasWithData.length === 0) {
                selector.innerHTML = '<option value="1">No hay galas con datos</option>';
                return;
            }
            
            galasWithData.forEach(galaNumber => {
                const option = document.createElement('option');
                option.value = galaNumber;
                option.textContent = `Gala ${galaNumber}`;
                if (galaNumber === currentGala) {
                    option.selected = true;
                }
                selector.appendChild(option);
            });
            
            // Si la gala actual no tiene datos, seleccionar la primera disponible
            if (!galasWithData.includes(currentGala) && galasWithData.length > 0) {
                currentGala = galasWithData[0];
                selector.value = currentGala;
            }
        }

        function loadGalaData(galaNumber) {
            currentGala = galaNumber;
            document.getElementById('gala-title').textContent = `Gala ${galaNumber}`;
            
            console.log(`🔄 Cambiando a Gala ${galaNumber}`);
            
            // Cargar datos REALES de la gala específica
            loadRealGalaData(galaNumber).then(galaData => {
                console.log(`📊 Datos cargados para Gala ${galaNumber}:`, galaData);
                
                if (galaData.artists.length === 0) {
                    // Mostrar mensaje si no hay datos
                    document.getElementById('artists-analysis').innerHTML = `
                        <div class="text-center p-8 bg-yellow-900 bg-opacity-30 rounded-lg border border-yellow-600">
                            <h3 class="text-xl font-bold text-yellow-300 mb-4">⚠️ Sin Datos para Gala ${galaNumber}</h3>
                            <p class="text-yellow-200 mb-4">No hay artistas registrados o votaciones para esta gala.</p>
                            <p class="text-yellow-100 text-sm">Asegúrate de:</p>
                            <ul class="text-yellow-100 text-sm mt-2 space-y-1">
                                <li>• Haber agregado artistas a esta gala</li>
                                <li>• Que los jurados hayan votado</li>
                                <li>• Que haya votación del público</li>
                            </ul>
                        </div>
                    `;
                    
                    // Limpiar otros contenedores
                    document.getElementById('insights-container').innerHTML = '<p class="text-gray-400">Sin datos para mostrar insights</p>';
                    document.getElementById('jury-ranking').innerHTML = '<p class="text-gray-400">Sin datos</p>';
                    document.getElementById('public-ranking').innerHTML = '<p class="text-gray-400">Sin datos</p>';
                    
                    updateSummaryStats({ artists: [] });
                    return;
                }
                
                updateSummaryStats(galaData);
                renderGeneralChart(galaData);
                renderArtistsAnalysis(galaData);
                renderInsights(galaData);
                renderRankings(galaData);
            });
        }

        function generateVariationData(galaNumber) {
            // Generar variaciones de los datos base para otras galas
            const baseData = demoData[1];
            const variation = (galaNumber - 1) * 0.1;
            
            return {
                artists: baseData.artists.map(artist => ({
                    ...artist,
                    juryScore: Math.max(60, Math.min(100, artist.juryScore + (Math.random() - 0.5) * 20)),
                    publicScore: Math.max(60, Math.min(100, artist.publicScore + (Math.random() - 0.5) * 20)),
                    publicVotes: Math.floor(artist.publicVotes * (0.8 + Math.random() * 0.4))
                }))
            };
        }

        function updateSummaryStats(data) {
            const totalArtists = data.artists.length;
            const juryVotes = data.artists.reduce((sum, artist) => sum + artist.juryVotes, 0);
            const publicVotes = data.artists.reduce((sum, artist) => sum + artist.publicVotes, 0);
            
            // Calcular correlación simple
            const correlation = calculateCorrelation(data.artists);
            
            document.getElementById('total-artists').textContent = totalArtists;
            document.getElementById('jury-votes').textContent = juryVotes;
            document.getElementById('public-votes').textContent = publicVotes.toLocaleString();
            document.getElementById('correlation').textContent = `${Math.round(correlation * 100)}%`;
        }

        function calculateCorrelation(artists) {
            // Correlación simple entre rankings de jurados y público
            const juryRank = artists.map(a => a.juryScore).sort((a, b) => b - a);
            const publicRank = artists.map(a => a.publicScore).sort((a, b) => b - a);
            
            // Simplificado para demo
            return 0.65 + (Math.random() * 0.3);
        }

        function renderGeneralChart(data) {
            const ctx = document.getElementById('general-comparison-chart').getContext('2d');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.artists.map(artist => artist.name),
                    datasets: [
                        {
                            label: 'Evaluación Jurados',
                            data: data.artists.map(artist => artist.juryScore),
                            backgroundColor: 'rgba(59, 130, 246, 0.8)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 2
                        },
                        {
                            label: 'Votación Público',
                            data: data.artists.map(artist => artist.publicScore),
                            backgroundColor: 'rgba(16, 185, 129, 0.8)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { color: '#e5e7eb' },
                            grid: { color: 'rgba(75, 85, 99, 0.3)' }
                        },
                        x: {
                            ticks: { color: '#e5e7eb' },
                            grid: { color: 'rgba(75, 85, 99, 0.3)' }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: { color: '#e5e7eb' }
                        }
                    }
                }
            });
        }

        function renderArtistsAnalysis(data) {
            const container = document.getElementById('artists-analysis');
            
            container.innerHTML = data.artists.map(artist => {
                const difference = artist.juryScore - artist.publicScore;
                const isPositive = difference > 5;
                const isNegative = difference < -5;
                const feedbackClass = isPositive ? 'feedback-positive' : (isNegative ? 'feedback-negative' : 'feedback-neutral');
                
                return `
                    <div class="artist-comparison ${feedbackClass} p-6 rounded-lg">
                        <div class="flex flex-col md:flex-row gap-6">
                            <!-- Info del Artista -->
                            <div class="md:w-1/3">
                                <h3 class="text-2xl font-bold text-white mb-2">${artist.name}</h3>
                                <p class="text-blue-300 font-semibold">${artist.genre}</p>
                                <p class="text-gray-300 text-sm">🎵 ${artist.song}</p>
                                
                                <div class="mt-4 space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-blue-300">Jurados:</span>
                                        <span class="font-bold text-blue-400">${artist.juryScore.toFixed(1)}/100</span>
                                    </div>
                                    <div class="score-bar">
                                        <div class="score-fill-jury h-full" style="width: ${artist.juryScore}%"></div>
                                    </div>
                                    
                                    <div class="flex justify-between">
                                        <span class="text-green-300">Público:</span>
                                        <span class="font-bold text-green-400">${artist.publicScore.toFixed(1)}/100</span>
                                    </div>
                                    <div class="score-bar">
                                        <div class="score-fill-public h-full" style="width: ${artist.publicScore}%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Análisis y Feedback -->
                            <div class="md:w-2/3">
                                <h4 class="text-lg font-bold text-white mb-3">📊 Análisis Comparativo</h4>
                                
                                <div class="bg-gray-700 p-4 rounded-lg mb-4">
                                    <p class="text-white mb-2">
                                        <strong>Diferencia:</strong> 
                                        ${difference > 0 ? '+' : ''}${difference.toFixed(1)} puntos
                                        ${isPositive ? '(Jurados valoran más)' : (isNegative ? '(Público valora más)' : '(Evaluación similar)')}
                                    </p>
                                    
                                    <div class="text-sm text-gray-300">
                                        <p><strong>Votos recibidos:</strong> ${artist.publicVotes.toLocaleString()} del público, ${artist.juryVotes} jurados</p>
                                    </div>
                                </div>
                                
                                <!-- Feedback Personalizado -->
                                <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-4 rounded-lg">
                                    <h5 class="font-bold text-white mb-2">💬 Feedback para ${artist.name}:</h5>
                                    <p class="text-blue-100 text-sm">
                                        ${generatePersonalizedFeedback(artist, difference, isPositive, isNegative)}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function generatePersonalizedFeedback(artist, difference, isPositive, isNegative) {
            if (isPositive) {
                return `Excelente trabajo técnico valorado por los jurados profesionales. Tu interpretación de "${artist.song}" demuestra sólidas bases técnicas que el jurado reconoce. El público aún está descubriendo tu potencial - mantén este nivel técnico y trabaja en conectar más emocionalmente con la audiencia.`;
            } else if (isNegative) {
                return `¡El público te ama! Tu carisma y conexión emocional en "${artist.song}" resuena fuertemente con la audiencia. Los jurados sugieren pulir algunos aspectos técnicos para complementar tu natural magnetismo escénico. Equilibrar técnica y carisma te llevará al siguiente nivel.`;
            } else {
                return `Equilibrio perfecto entre técnica y carisma. Tanto jurados como público reconocen tu talento en "${artist.song}". Estás en el camino correcto - mantén este balance y sigue evolucionando en cada presentación.`;
            }
        }

        function renderInsights(data) {
            const container = document.getElementById('insights-container');
            
            // Encontrar patrones interesantes
            const juryFavorite = data.artists.reduce((prev, current) => 
                (prev.juryScore > current.juryScore) ? prev : current
            );
            
            const publicFavorite = data.artists.reduce((prev, current) => 
                (prev.publicScore > current.publicScore) ? prev : current
            );
            
            const biggestGap = data.artists.reduce((prev, current) => {
                const prevGap = Math.abs(prev.juryScore - prev.publicScore);
                const currentGap = Math.abs(current.juryScore - current.publicScore);
                return (prevGap > currentGap) ? prev : current;
            });

            container.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="bg-blue-600 bg-opacity-20 p-4 rounded-lg border border-blue-500">
                        <h4 class="font-bold text-blue-300 mb-2">🏆 Favorito de Jurados</h4>
                        <p class="text-white font-semibold">${juryFavorite.name}</p>
                        <p class="text-blue-200 text-sm">${juryFavorite.juryScore.toFixed(1)} pts - ${juryFavorite.song}</p>
                    </div>
                    
                    <div class="bg-green-600 bg-opacity-20 p-4 rounded-lg border border-green-500">
                        <h4 class="font-bold text-green-300 mb-2">❤️ Favorito del Público</h4>
                        <p class="text-white font-semibold">${publicFavorite.name}</p>
                        <p class="text-green-200 text-sm">${publicFavorite.publicScore.toFixed(1)} pts - ${publicFavorite.publicVotes} votos</p>
                    </div>
                    
                    <div class="bg-yellow-600 bg-opacity-20 p-4 rounded-lg border border-yellow-500">
                        <h4 class="font-bold text-yellow-300 mb-2">🤔 Mayor Divergencia</h4>
                        <p class="text-white font-semibold">${biggestGap.name}</p>
                        <p class="text-yellow-200 text-sm">${Math.abs(biggestGap.juryScore - biggestGap.publicScore).toFixed(1)} pts de diferencia</p>
                    </div>
                </div>
                
                <div class="mt-6 bg-gray-700 p-6 rounded-lg">
                    <h4 class="text-lg font-bold text-white mb-4">📈 Conclusiones de la Gala ${currentGala}</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li>• <strong>Nivel técnico:</strong> Los jurados otorgaron un promedio de ${(data.artists.reduce((sum, a) => sum + a.juryScore, 0) / data.artists.length).toFixed(1)} puntos</li>
                        <li>• <strong>Conexión con público:</strong> Promedio de votación popular de ${(data.artists.reduce((sum, a) => sum + a.publicScore, 0) / data.artists.length).toFixed(1)} puntos</li>
                        <li>• <strong>Participación:</strong> ${data.artists.reduce((sum, a) => sum + a.publicVotes, 0).toLocaleString()} votos del público registrados</li>
                        <li>• <strong>Tendencia:</strong> ${juryFavorite.name === publicFavorite.name ? 'Consenso total entre jurados y público' : 'Visiones diferentes que enriquecen el feedback'}</li>
                    </ul>
                </div>
            `;
        }

        function renderRankings(data) {
            const juryRanking = [...data.artists].sort((a, b) => b.juryScore - a.juryScore);
            const publicRanking = [...data.artists].sort((a, b) => b.publicScore - a.publicScore);
            
            const juryContainer = document.getElementById('jury-ranking');
            const publicContainer = document.getElementById('public-ranking');
            
            juryContainer.innerHTML = juryRanking.map((artist, index) => `
                <div class="flex justify-between items-center p-2 bg-blue-800 bg-opacity-30 rounded">
                    <div class="flex items-center gap-3">
                        <span class="font-bold text-blue-300">#${index + 1}</span>
                        <span class="text-white">${artist.name}</span>
                    </div>
                    <span class="font-bold text-blue-400">${artist.juryScore.toFixed(1)}</span>
                </div>
            `).join('');
            
            publicContainer.innerHTML = publicRanking.map((artist, index) => `
                <div class="flex justify-between items-center p-2 bg-green-800 bg-opacity-30 rounded">
                    <div class="flex items-center gap-3">
                        <span class="font-bold text-green-300">#${index + 1}</span>
                        <span class="text-white">${artist.name}</span>
                    </div>
                    <span class="font-bold text-green-400">${artist.publicScore.toFixed(1)}</span>
                </div>
            `).join('');
        }

        console.log('📊 Reporte por Gala inicializado');
    </script>
</body>
</html>